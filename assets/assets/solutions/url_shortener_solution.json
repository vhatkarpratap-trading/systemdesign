{
  "components": [
    {
      "id": "cdn",
      "type": "cdn",
      "position": {"x": 5000.0, "y": 4600.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 500000,
        "regions": ["us-east-1", "eu-west-1", "ap-south-1"],
        "costPerHour": 0.05
      }
    },
    {
      "id": "dns",
      "type": "dns",
      "position": {"x": 5200.0, "y": 4600.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 1000000,
        "costPerHour": 0.01
      }
    },
    {
      "id": "lb1",
      "type": "loadBalancer",
      "position": {"x": 4800.0, "y": 4800.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 100000,
        "instances": 2,
        "algorithm": "round_robin",
        "costPerHour": 0.10
      }
    },
    {
      "id": "lb2",
      "type": "loadBalancer",
      "position": {"x": 5200.0, "y": 4800.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 100000,
        "instances": 2,
        "algorithm": "round_robin",
        "costPerHour": 0.10
      }
    },
    {
      "id": "api-gateway",
      "type": "apiGateway",
      "position": {"x": 5000.0, "y": 5000.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 50000,
        "instances": 3,
        "cacheTtlSeconds": 60,
        "rateLimiting": true,
        "rateLimitRps": 5000,
        "costPerHour": 0.15
      }
    },
    {
      "id": "app1",
      "type": "appServer",
      "position": {"x": 4700.0, "y": 5200.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 1000,
        "instances": 3,
        "autoScale": true,
        "minInstances": 3,
        "maxInstances": 20,
        "circuitBreaker": true,
        "costPerHour": 0.20
      }
    },
    {
      "id": "app2",
      "type": "appServer",
      "position": {"x": 5000.0, "y": 5200.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 1000,
        "instances": 3,
        "autoScale": true,
        "minInstances": 3,
        "maxInstances": 20,
        "circuitBreaker": true,
        "costPerHour": 0.20
      }
    },
    {
      "id": "app3",
      "type": "appServer",
      "position": {"x": 5300.0, "y": 5200.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 1000,
        "instances": 3,
        "autoScale": true,
        "minInstances": 3,
        "maxInstances": 20,
        "circuitBreaker": true,
        "costPerHour": 0.20
      }
    },
    {
      "id": "redis1",
      "type": "cache",
      "position": {"x": 4600.0, "y": 5400.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 100000,
        "instances": 2,
        "cacheTtlSeconds": 3600,
        "costPerHour": 0.08
      }
    },
    {
      "id": "redis2",
      "type": "cache",
      "position": {"x": 4900.0, "y": 5400.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 100000,
        "instances": 2,
        "cacheTtlSeconds": 3600,
        "costPerHour": 0.08
      }
    },
    {
      "id": "metadata-db",
      "type": "database",
      "position": {"x": 5000.0, "y": 5500.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 5000,
        "instances": 2,
        "replication": true,
        "replicationFactor": 2,
        "sharding": true,
        "partitionCount": 4,
        "costPerHour": 0.25
      }
    },
    {
      "id": "user-db",
      "type": "database",
      "position": {"x": 5300.0, "y": 5400.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 5000,
        "instances": 2,
        "replication": true,
        "replicationFactor": 2,
        "sharding": true,
        "partitionCount": 4,
        "costPerHour": 0.25
      }
    },
    {
      "id": "upload-queue",
      "type": "queue",
      "position": {"x": 4400.0, "y": 5600.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 100000,
        "dlq": true,
        "costPerHour": 0.04
      }
    },
    {
      "id": "video-worker1",
      "type": "worker",
      "position": {"x": 4400.0, "y": 5800.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 500,
        "instances": 5,
        "autoScale": true,
        "costPerHour": 0.15
      }
    },
    {
      "id": "video-worker2",
      "type": "worker",
      "position": {"x": 4600.0, "y": 5800.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 500,
        "instances": 5,
        "autoScale": true,
        "costPerHour": 0.15
      }
    },
    {
      "id": "video-storage",
      "type": "objectStore",
      "position": {"x": 4900.0, "y": 6000.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 1000000,
        "regions": ["us-east-1", "eu-west-1"],
        "costPerHour": 0.02
      }
    },
    {
      "id": "thumbnail-storage",
      "type": "objectStore",
      "position": {"x": 5200.0, "y": 6000.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 1000000,
        "regions": ["us-east-1", "eu-west-1"],
        "costPerHour": 0.02
      }
    },
    {
      "id": "stream1",
      "type": "customService",
      "position": {"x": 5500.0, "y": 5800.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 5000,
        "instances": 3,
        "costPerHour": 0.10
      }
    },
    {
      "id": "stream2",
      "type": "customService",
      "position": {"x": 5700.0, "y": 5800.0},
      "size": {"w": 80.0, "h": 64.0},
      "config": {
        "capacity": 5000,
        "instances": 3,
        "costPerHour": 0.10
      }
    }
  ],
  "connections": [
    {
      "id": "conn1",
      "sourceId": "dns",
      "targetId": "cdn",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn2",
      "sourceId": "cdn",
      "targetId": "lb1",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn3",
      "sourceId": "cdn",
      "targetId": "lb2",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn4",
      "sourceId": "lb1",
      "targetId": "api-gateway",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn5",
      "sourceId": "lb2",
      "targetId": "api-gateway",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn6",
      "sourceId": "api-gateway",
      "targetId": "app1",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn7",
      "sourceId": "api-gateway",
      "targetId": "app2",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn8",
      "sourceId": "api-gateway",
      "targetId": "app3",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn9",
      "sourceId": "app1",
      "targetId": "redis1",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn10",
      "sourceId": "app2",
      "targetId": "redis1",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn11",
      "sourceId": "app3",
      "targetId": "redis2",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn12",
      "sourceId": "app1",
      "targetId": "upload-queue",
      "type": "async",
      "direction": "unidirectional"
    },
    {
      "id": "conn13",
      "sourceId": "app2",
      "targetId": "metadata-db",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn14",
      "sourceId": "app3",
      "targetId": "user-db",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn15",
      "sourceId": "upload-queue",
      "targetId": "video-worker1",
      "type": "async",
      "direction": "unidirectional"
    },
    {
      "id": "conn16",
      "sourceId": "upload-queue",
      "targetId": "video-worker2",
      "type": "async",
      "direction": "unidirectional"
    },
    {
      "id": "conn17",
      "sourceId": "video-worker1",
      "targetId": "video-storage",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn18",
      "sourceId": "video-worker2",
      "targetId": "thumbnail-storage",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn19",
      "sourceId": "stream1",
      "targetId": "video-storage",
      "type": "request",
      "direction": "unidirectional"
    },
    {
      "id": "conn20",
      "sourceId": "stream2",
      "targetId": "video-storage",
      "type": "request",
      "direction": "unidirectional"
    }
  ]
}
